# Entrypoint output format
mimeType = application/json

# OpenAPI Documentation - JSON format (dot notation)
post.operationId = post-v1-retrieve-json
post.summary = Récupération d'un résultat produit sous forme d'un JSON GEXF
post.description = Renvoie la version au format JSON d'un fichier GEXF produit par un traitement asynchrone.
#'
post.tags.0 = data-topcitation
post.responses.default.description = Fichier graphe GEXF au format JSON
post.requestBody.required = true

post.requestBody.content.application/json.example.0.value = EkqfSn4S2

[use]
plugin = basics
plugin = spawn

[JSONParse]
separator = *

[env]
path = identifier
value = get("value")

[exchange]
value = get('value')

[FILELoad]
location = /tmp/retrieve

[TARExtract]
compress = true
path = */*.json

# Convert XML to JSON

[exec]
command = ./v1/topcitation-segment.py
args = fix('-p')
args = env('identifier')

[exchange]
value = get('value')

[delegate]
file = gexf2json.cfg
